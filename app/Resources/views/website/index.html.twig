{% extends 'base.html.twig' %}

{% block body %}
  <h1>Website list ({{ websites | length }})</h1>

  <form>

  <table class="table" id="table">
    <thead>
      <tr>
        <th>Domain</th>
        <th>Server</th>
        <th>Document root</th>
        <th>Type</th>
        <th>Version</th>
        <th>Data</th>
        <th>Updated at</th>
        <th>Comments</th>
        <th>Actions</th>
      </tr>
      <tr class="filter">
        <td>{{ form_row(form.domain) }}</td>
        <td>{{ form_row(form.server) }}</td>
        <td>{{ form_row(form.documentRoot) }}</td>
        <td>{{ form_row(form.type) }}</td>
        <td>{{ form_row(form.version) }}</td>
        <td>{{ form_row(form.data) }}</td>
        <td></td>
        <td>{{ form_row(form.comments) }}</td>
        <td>{{ form_row(form.filter) }}</td>
      </tr>
    </thead>
    <tbody>
      {% for website in websites %}
        <tr>
          <td><a href="{{ path('website_show', { 'id': website.id }) }}">{{ website.domain }}</a></td>
          <td>{{ website.server }}</td>
          <td>{{ website.documentRoot }}</td>
          <td>{{ website.type }}</td>
          <td>{{ website.version }}</td>
          <td>
            {% if website.data %}
              <a href="{{ path('website_show', { 'id': website.id }) }}">…</a>
            {% else %}
              –
            {% endif %}
          </td>
          <td>{{ website.updatedAt | date('Y-m-d H:i:sP') }}</td>
          <td>{{ website.comments }}</td>
          <td>
            <a class="btn btn-default" href="{{ path('website_edit', { 'id': website.id }) }}">edit</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  </form>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script src="{{ asset('assets/js/jquery.tablesorter.js') }}"></script>
  <script>(function($) {
     $(document).ready(function() {
			 $('table').tablesorter();
     });
   }(jQuery))</script>
{% endblock %}
